import React, { Component } from "react";
import mapboxgl from "mapbox-gl";
import "./App.css";
import ElapsedHours from "./components/elapsedHours";
import FloodIntensity from "./components/floodIntensity";
import MapboxGeocoder from "@mapbox/mapbox-gl-geocoder";
import Button from "./components/button";
import "@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css";

mapboxgl.accessToken =
  "pk.eyJ1IjoibXJ1Z2FuazA5IiwiYSI6ImNrZmx5dzFiazB5azYyeHF1ZzRncHhjNGEifQ.ZJisPtGi4p3k9U5RU-aj6A";
// Abbiram's token: "pk.eyJ1IjoiYTZyYW1hbmEiLCJhIjoiY2tmc3loYTZvMGw5cDJ5cWcxNG5mcWR0ayJ9.qI5lnaQPLtsRUAz-LKLihg";

class App extends Component {
  state = {
    lng: 0,
    lat: 0,
    zoom: 2,
  };

  globalMap;

  points = [
    [50.735, 24.6346],
    [45.8146, -9.356],
    [24.2575, 42.0927],
    [9.2257, -46.475],
    [24.6438, 3.1298],
    [3.9761, -21.6684],
    [52.408, 23.5574],
    [-5.7926, 20.0689],
    [54.934, -32.6288],
    [0.7888, 25.0715],
    [71.9269, 29.3956],
    [9.1692, 13.5981],
    [43.9456, -11.2479],
    [-55.1657, 32.238],
    [-73.3362, -40.4855],
    [-49.3745, -38.0188],
    [-2.607, 25.2741],
    [3.4678, -46.456],
    [-8.1654, 26.7612],
    [-10.909, 28.2251],
    [-39.5953, -55.7667],
    [-18.8628, -76.4753],
    [-31.9212, -49.553],
    [74.3253, -70.2935],
    [55.6161, -1.7568],
    [-20.5122, 79.2344],
    [-50.7044, 43.1917],
    [68.4652, 71.6361],
    [6.9982, 39.2363],
    [7.2888, -60.3122],
    [74.491, 51.9793],
    [-54.6927, 27.5057],
    [-19.4573, 14.1632],
    [59.8311, -68.8124],
    [-34.9403, -20.9736],
    [-31.4766, 77.7126],
    [-71.9258, -76.791],
    [-77.673, 49.1553],
    [24.5444, 28.6719],
    [33.9711, -19.6757],
    [11.9162, 21.7685],
    [-21.9193, 10.6403],
    [-13.6732, 8.0169],
    [70.4229, 20.0146],
    [11.9405, -43.285],
    [-48.1284, 36.4562],
    [-35.2413, 71.435],
    [3.053, -9.0709],
    [73.9773, 7.3617],
    [40.2002, 65.1967],
    [37.7612, -6.1446],
    [-61.9164, -28.5565],
    [-54.4607, 0.4105],
    [-28.2475, 19.1536],
    [72.9362, -70.5795],
    [-46.6344, 48.6453],
    [-62.1357, 72.1349],
    [65.0304, -1.6253],
    [3.9971, -6.3193],
    [-69.9767, 13.0864],
    [-18.3073, -50.6307],
    [-3.8976, -73.3566],
    [-27.2625, 32.9962],
    [-22.2765, -10.1504],
    [29.4196, -28.3671],
    [-57.8405, 51.4466],
    [-9.7771, -8.6888],
    [-72.7099, 48.1769],
    [-51.3203, 69.8827],
    [41.9302, -42.6763],
    [69.3557, -62.9166],
    [-61.3041, -77.2271],
    [-0.6772, -56.43],
    [20.3637, -54.4767],
    [74.1992, -42.2002],
    [50.4763, -79.106],
    [33.2768, -18.8391],
    [41.2323, -64.6435],
    [6.5088, 69.4248],
    [29.3901, 33.9329],
    [-6.0879, -35.3471],
    [-49.4952, 1.9018],
    [20.9116, 55.7332],
    [-76.6794, 11.1698],
    [-78.1732, -55.9967],
    [-77.5558, -4.8065],
    [31.9217, -14.1211],
    [0.7328, 22.8242],
    [-26.1936, 41.6178],
    [-28.8124, 1.3617],
    [-7.8829, -49.529],
    [-18.1951, 71.0906],
    [-73.9264, 16.6593],
    [50.2433, 64.8397],
    [-63.4971, -50.5892],
    [12.4647, 51.6148],
    [-6.2351, 43.6491],
    [22.1867, 71.0903],
    [56.686, 58.4081],
    [-23.9173, 74.7774],
    [-2.1917, -1.9509],
    [-52.4296, -79.9668],
    [70.1443, -13.665],
    [-1.4629, 48.3296],
    [-53.677, -13.8582],
    [45.8052, 35.418],
    [-42.2167, -33.7902],
    [-63.5563, 25.5138],
    [-72.6543, -72.6858],
    [78.6218, 20.9826],
    [-7.382, -43.1086],
    [-7.798, 48.0487],
    [-74.9135, 76.3792],
    [-34.0879, -18.505],
    [-17.2578, -44.335],
    [58.6638, 27.4741],
    [-68.8268, 57.4993],
    [34.5478, 15.3539],
    [-21.7764, 19.8863],
    [-43.4584, 1.1699],
    [7.4803, -22.6641],
    [-78.0988, 48.9549],
    [-70.4591, -60.0047],
    [-57.2539, -11.7078],
    [-8.2713, -68.996],
    [-7.0731, -59.4622],
    [-26.7098, -17.9675],
    [-28.0668, 66.3518],
    [12.5733, 72.082],
    [36.0968, 26.0379],
    [61.4041, -68.258],
    [-42.2797, 75.6566],
    [70.5811, -77.348],
    [-53.2358, -61.6024],
    [32.8146, -14.6037],
    [67.1925, -62.5533],
    [-11.3556, -45.8916],
    [-14.238, -45.7671],
    [74.2965, 34.3838],
    [40.5887, -30.6381],
    [-46.5198, 55.555],
    [-12.7646, -52.5263],
    [-63.9996, 70.1087],
    [-49.4475, -80.0703],
    [60.2951, -50.9647],
    [-51.2982, -77.5115],
    [61.2884, 24.9722],
    [-8.4474, 65.3155],
    [49.4115, -51.9559],
    [-16.7423, 36.2862],
    [30.6464, 40.9109],
    [10.4382, -67.0863],
    [-20.3888, 9.5922],
    [54.0066, -32.156],
    [-1.1775, -67.0174],
    [78.3323, -38.5123],
    [-26.5793, 21.4611],
    [45.7741, 15.6139],
    [52.338, 25.6051],
    [-45.3402, -12.1379],
    [-2.2265, -15.1289],
    [-66.1484, 76.2823],
    [27.0631, -53.1247],
    [44.401, 5.954],
    [20.991, -75.393],
    [-41.5219, -47.2887],
    [4.2665, 36.9746],
    [53.387, -40.084],
    [-75.0509, -22.915],
    [-68.4206, 3.6726],
    [-48.8883, 30.5097],
    [-52.7538, 15.9959],
    [78.5946, 8.3597],
    [-19.7615, 16.9626],
    [-53.7078, -69.1991],
    [78.0043, 28.8038],
    [-13.7821, 18.3424],
    [-70.7016, 69.9878],
    [-49.454, -67.2881],
    [56.0783, 7.5573],
    [2.6177, -75.1164],
    [18.253, -47.758],
    [-35.5565, 78.4016],
    [43.4265, 70.0117],
    [8.8961, -22.0424],
    [61.503, 23.5919],
    [47.7259, 23.4795],
    [61.9924, 73.2373],
    [74.0453, 43.6692],
    [28.7841, -23.2467],
    [-4.3499, -35.6664],
    [-35.3544, -32.9451],
    [-57.7399, 44.3208],
    [30.1888, 53.5405],
    [-12.7317, -13.2537],
    [33.6689, -39.3806],
    [24.3546, -44.3329],
    [11.9557, 46.1511],
    [-38.8061, 74.6033],
    [12.8032, 22.9186],
    [-34.8394, 54.0548],
    [24.5998, 77.7444],
    [-29.9432, 27.5456],
    [71.7452, -53.1829],
    [-34.3679, -74.1699],
    [9.1455, 39.4675],
    [-21.4529, -40.7229],
    [-24.0136, 55.8023],
    [9.7241, 47.6089],
    [-37.5208, 36.1775],
    [53.0467, -78.3029],
    [56.3499, -70.2086],
    [76.7976, -28.9457],
    [0.6159, 1.8016],
    [-12.9441, 32.6828],
    [-44.3479, -49.5942],
    [-14.2653, -39.8538],
    [37.1517, -80.0632],
    [-12.2282, 17.0678],
    [63.7282, 11.0811],
    [-9.5864, -61.0811],
    [42.6087, -23.2816],
    [-27.9105, 64.322],
    [-40.5363, -60.3781],
    [24.0365, -48.8263],
    [-34.9823, 19.1025],
    [51.797, -9.577],
    [67.6009, 37.4317],
    [4.9081, -67.7084],
    [49.1793, 55.8581],
    [19.3, 74.6419],
    [-43.1379, -19.5678],
    [-13.0113, -38.1663],
    [-42.3946, 66.0817],
    [-52.1638, 20.0625],
    [-74.1124, -79.587],
    [50.5074, -37.9435],
    [-0.6541, 65.221],
    [-1.1488, -57.3516],
    [61.7036, -44.2644],
    [-57.5969, 59.285],
    [54.3976, 31.2782],
    [65.9719, 29.5169],
    [-64.4001, 36.9183],
    [9.2875, -24.8842],
    [52.0906, 58.9193],
    [59.3413, -22.4028],
    [-67.4019, 41.6107],
    [5.1313, 77.8802],
    [-12.4581, -79.3464],
    [-40.9065, 32.2302],
    [-53.5403, 56.402],
    [-12.0001, 21.8453],
    [-32.4987, 5.1861],
    [2.1283, 41.9556],
    [-69.8869, -75.8603],
    [-35.4518, 9.0986],
    [-12.2813, 57.6457],
    [-33.0986, 48.5119],
    [-43.0807, -80.3591],
    [-58.768, 75.4869],
    [56.064, -63.8136],
    [47.0179, 35.5241],
    [7.3058, -25.2361],
    [1.9344, -60.4177],
    [-66.5096, 77.7347],
    [-57.5758, -69.0943],
    [-54.623, -11.8195],
    [-54.3948, -41.4007],
    [-80.4502, -39.1721],
    [-56.0594, 60.0075],
    [-56.8974, -75.6858],
    [41.6683, -66.7807],
    [-74.771, 3.9451],
    [3.2343, 22.377],
    [14.5824, 37.228],
    [50.3043, 5.9403],
    [-74.9004, -56.7728],
    [-74.6976, 69.9088],
    [58.3897, -49.058],
    [53.0201, 14.3803],
    [-58.7389, 41.0731],
    [-80.1879, 34.7046],
    [-55.5337, 67.4239],
    [-51.3323, 2.4119],
    [-57.1995, 64.3145],
    [-51.6815, 43.2002],
    [-34.7148, 24.8561],
    [-65.1673, 26.3446],
    [75.2958, -14.6412],
    [35.9185, -27.4196],
    [-34.3175, 35.279],
    [4.592, 3.3435],
    [11.3894, 73.9104],
    [-13.5535, 19.3112],
    [-71.9805, 72.5489],
    [-58.6993, -51.2225],
    [-0.6706, -37.1008],
    [-38.575, -66.7845],
    [-59.1129, -33.5284],
    [-63.1508, 7.019],
    [-46.4851, 72.6029],
    [66.1878, 69.8474],
    [70.2648, 24.0263],
    [-7.0172, 3.7536],
    [-11.1662, -35.5176],
    [-31.7787, 36.7767],
    [-27.3236, -79.4357],
    [8.4275, -25.8998],
    [31.3144, 16.4675],
    [63.0209, -62.537],
    [23.7863, -18.4454],
    [18.7482, -18.6157],
    [20.6892, 62.7199],
    [52.0155, -70.4718],
    [-73.744, 8.4947],
    [-0.3635, -57.6268],
    [64.0596, 68.1342],
    [0.1969, 44.6441],
    [-4.38, 20.9613],
    [39.5273, 49.7196],
    [-23.014, 64.7589],
    [-11.2826, 18.843],
    [-54.3171, 46.1774],
    [-13.967, -39.5042],
    [-44.7668, 37.5601],
    [-15.2699, 51.2932],
    [-11.6448, -30.0403],
    [19.6024, -15.3356],
    [58.3046, -64.8237],
    [-14.3972, 18.5507],
    [-64.8945, -73.6606],
    [52.0157, -42.4754],
    [57.9903, -47.8589],
    [30.5875, 1.9474],
    [44.0947, 36.1955],
    [-31.2111, 40.013],
    [23.4747, 38.4366],
    [-4.1431, 58.6268],
    [40.2574, 66.021],
    [36.7265, -48.7109],
    [77.3286, -26.5578],
    [41.2412, -77.186],
    [-32.3696, 75.236],
    [41.7764, -2.7515],
    [-20.2644, -68.0574],
    [-69.4114, -31.5627],
    [-24.0525, 70.2375],
    [-0.658, -31.6824],
    [23.3547, -12.547],
    [4.0719, -70.5616],
    [-42.9204, -77.1735],
    [-47.8373, 66.5868],
    [-38.6883, 68.0922],
    [-57.4994, 66.2143],
    [68.3012, -2.9197],
    [37.6598, 29.0078],
    [-52.661, -4.9846],
    [15.5057, -66.994],
    [76.1821, -69.5165],
    [-26.7674, -68.6312],
    [45.996, -74.2273],
    [-19.1651, -38.0255],
    [67.1451, -64.2282],
    [-38.5542, -73.3638],
    [-5.8057, -28.8635],
    [31.036, -12.5294],
    [12.8866, -19.2167],
    [-15.4904, 38.5124],
    [-31.051, -44.9824],
    [-31.8858, 13.5327],
    [-15.4734, -0.8823],
    [71.1593, 43.3664],
    [-13.2421, -53.7735],
    [-67.3893, -1.9368],
    [24.887, 39.6839],
    [-0.2931, 77.7515],
    [16.6847, 53.9988],
    [9.5663, 9.0303],
    [49.698, 9.3395],
    [21.8647, -12.6383],
    [-70.3646, -73.4499],
    [-77.4598, -80.2644],
    [-25.3849, -7.9009],
    [24.8879, 50.5272],
    [-66.2866, 28.8582],
    [59.6289, -40.1171],
    [-24.9734, -18.0232],
    [-49.5141, 48.1681],
    [-73.7383, 53.7151],
    [-17.3641, -5.6564],
    [20.1958, 61.4513],
    [-27.9613, -79.5571],
    [23.9304, -58.4518],
    [38.6987, 52.4327],
    [64.2526, 10.2826],
    [40.8463, -71.4699],
    [-47.8143, 68.851],
    [35.2667, 25.7047],
    [-49.8987, -45.1171],
    [-28.0571, 23.536],
    [-70.0226, 23.7758],
    [2.5302, -79.8943],
    [40.0206, -61.6382],
    [-0.0615, 46.4776],
    [11.2107, -7.6255],
    [1.4641, -19.1103],
    [5.9849, -65.6529],
    [51.7412, -72.1821],
    [42.8593, 61.154],
    [2.6571, 11.0807],
    [68.1972, -19.2621],
    [-38.752, -66.1504],
    [-33.3841, -58.9932],
    [19.0928, 67.7303],
    [-51.5339, 0.7725],
    [-80.002, 19.9093],
    [68.4169, -48.3227],
    [-33.0565, 32.3661],
    [-19.4239, 30.4559],
    [78.7225, -13.0254],
    [-40.0732, -34.2434],
    [20.0153, -30.3294],
    [1.7413, -27.4095],
    [21.2477, -17.9291],
    [-17.3663, 55.6219],
    [60.8949, 73.1795],
    [40.7609, 70.4986],
    [-24.4586, 15.3117],
    [-59.3356, -28.0068],
    [1.774, -53.9589],
    [-77.2094, -51.3234],
    [29.4279, 34.3415],
    [76.9831, -65.5391],
    [16.0507, -76.0002],
    [51.1076, -19.0827],
    [47.6841, 25.7851],
    [75.2037, 78.7588],
    [7.1836, -62.7357],
    [31.3488, -79.6466],
    [17.4892, -21.0138],
    [0.6899, -33.6982],
    [42.222, 31.0446],
    [-27.0765, 43.3401],
    [28.4637, -43.2593],
    [6.1991, -36.5703],
    [16.6378, -28.6221],
    [-2.813, -0.2454],
    [70.6829, 44.633],
    [6.847, 7.6864],
    [33.3502, 20.9702],
    [28.5546, -23.182],
    [57.9631, -4.0188],
    [-72.0311, -17.5806],
    [30.3503, -70.8498],
    [67.1848, 18.4918],
    [52.2386, 57.7058],
    [-80.2936, 26.4885],
    [-5.0192, 47.7848],
    [13.4769, 17.8043],
    [71.823, 71.035],
    [-19.4361, 58.0953],
    [19.3291, 28.6896],
    [-40.4225, -59.1287],
    [6.0648, 41.4361],
    [-33.441, 64.8722],
    [-18.6706, 51.1619],
    [24.9606, 12.9264],
    [39.8114, 57.2736],
    [39.9576, 77.5997],
    [-17.8164, -62.8135],
    [-45.8849, -52.8134],
    [-37.1414, 50.9246],
    [-52.8965, -68.7586],
    [42.0624, -34.5325],
    [46.7096, -8.2202],
    [-26.5745, 1.7699],
    [50.556, -54.2592],
    [68.1887, -56.4121],
    [-39.2118, -13.9964],
    [26.4956, -15.5706],
    [-20.6276, 53.3906],
    [57.5039, -7.8183],
    [-56.0937, 20.2659],
    [-13.8386, 38.2284],
    [-3.6289, 39.8959],
    [42.1183, 79.7143],
    [41.1967, -21.2465],
    [11.0739, 43.4984],
    [-1.462, 19.9988],
    [-68.1638, -60.3533],
    [-42.5717, 36.7616],
    [65.9739, 18.67],
    [-35.2375, -7.9239],
    [63.8503, -42.6857],
    [52.5651, 14.4769],
    [49.0493, -20.2517],
    [75.215, 47.493],
    [8.7214, 20.4954],
    [-46.6831, -76.2639],
    [42.0643, 49.8435],
    [60.5155, 38.4432],
    [12.0575, -78.9671],
    [25.7918, -70.9657],
    [55.7091, -15.9264],
    [5.7589, -75.9607],
    [-7.2116, -42.757],
    [73.9905, -70.4549],
    [45.8354, -10.1154],
    [72.0765, 15.9739],
    [-42.9148, 15.7803],
    [13.5747, 14.1072],
    [14.3526, 64.1728],
    [-10.2494, -44.4254],
    [-58.5654, -74.4455],
    [-67.6968, -8.8888],
    [-44.9246, 70.2064],
    [16.1118, -45.9756],
    [-33.0822, 11.6728],
    [-36.6981, -59.2624],
    [-55.3138, 41.9428],
    [73.2382, -75.1233],
    [10.7094, -67.9862],
    [-63.1099, -11.753],
    [60.7862, 38.7739],
    [-47.1074, 11.5733],
    [-23.1671, -5.2585],
    [58.229, 79.0546],
    [13.1664, -73.0887],
    [71.7802, 10.8151],
    [61.8467, -33.3695],
    [-23.3908, -23.6106],
    [-29.7491, 4.4458],
    [37.8807, -62.112],
    [39.1295, 57.0006],
    [-39.1384, -47.1886],
    [-76.2852, -3.2975],
    [34.5331, -44.0486],
    [63.4846, 4.8802],
    [-57.9109, -75.1134],
    [-60.6239, 75.2951],
    [-5.2584, 58.6087],
    [-23.7673, 43.2428],
    [-11.5766, -20.9103],
    [19.9912, 64.3375],
    [-15.2113, -11.8164],
    [-6.4644, -38.1842],
    [-52.8376, -15.0503],
    [-7.0741, -22.2518],
    [-54.8963, 11.8023],
    [60.0709, -58.5817],
    [-60.2245, 2.7815],
    [-29.3192, 2.1642],
    [-23.6492, -25.1308],
    [50.7774, 74.9299],
    [38.0567, -53.9353],
    [-70.5018, -42.359],
    [-58.5937, -28.4827],
    [-10.698, 47.8253],
    [6.3539, -36.3009],
    [32.3425, -11.5626],
    [-40.4315, -67.9034],
    [3.5466, 43.9352],
    [-51.4486, 47.6656],
    [42.2405, -63.4963],
    [-57.6743, 25.4148],
    [18.7164, 33.1588],
    [57.5012, 12.7914],
    [-76.8277, 12.2575],
    [-21.8231, -66.1108],
    [36.1016, 56.8426],
    [-38.4719, -30.3966],
    [39.6167, -36.2297],
    [-44.038, 29.7281],
    [-6.7007, -3.0417],
    [21.7362, -57.6056],
    [48.7094, -25.003],
    [15.2468, -12.8993],
    [-51.2633, -59.9038],
    [13.3873, 14.0282],
    [78.9129, -18.5957],
    [46.3171, -43.4986],
    [-0.2514, -65.4166],
    [23.7238, -43.0294],
    [-65.592, -4.0138],
    [43.9291, 23.2587],
    [51.0725, -59.4585],
    [-19.7256, -64.4662],
    [-75.736, 74.3436],
    [-64.293, -13.0652],
    [42.7931, 70.2869],
    [67.0046, -11.6282],
    [-69.9176, -76.1003],
    [-53.3263, 23.7164],
    [32.0101, -0.4544],
    [-30.22, 39.8224],
    [-67.9435, 0.9764],
    [55.6907, 71.7176],
    [2.5286, -4.9383],
    [-57.0897, -45.9407],
    [-69.0486, 43.8056],
    [-28.3397, 77.4645],
    [-62.2643, -44.3761],
    [-14.2658, -10.1066],
    [-72.8715, -29.1418],
    [-14.0264, 22.5513],
    [-45.5185, 5.0149],
    [31.2212, 11.3502],
    [30.1875, 48.1303],
    [-45.3327, -32.2507],
    [64.2626, -43.7591],
    [-67.3557, -68.4494],
    [49.2538, -31.1742],
    [-34.7306, 64.0837],
    [45.6802, -5.876],
    [5.5196, 37.5802],
    [-15.0822, 8.4894],
    [5.473, 17.24],
    [-79.3054, 66.7942],
    [30.4523, -11.1441],
    [36.0895, 68.2885],
    [-25.851, -36.4041],
    [47.6598, -14.9218],
    [16.961, 14.7164],
    [-35.9803, -29.6599],
    [-5.4162, -34.4209],
    [11.53, 31.5895],
    [51.8384, 36.0973],
    [-51.8535, 5.5953],
    [75.511, 44.8765],
    [-28.787, -45.9493],
    [45.2434, 79.9602],
    [-25.4634, 4.1355],
    [-12.8881, -59.3351],
    [67.915, 37.9806],
    [-33.1349, 76.1068],
    [56.1535, 2.3433],
    [68.8425, 27.5827],
    [-22.7503, 65.4987],
    [-27.4771, 71.5345],
    [70.7212, -6.9712],
    [-35.6838, 28.0346],
    [27.6213, -57.282],
    [25.6984, -72.788],
    [2.1735, 49.0907],
    [-19.7311, -8.7201],
    [7.79, -36.1588],
    [7.3053, -78.2572],
    [-79.1419, -69.3299],
    [-70.8048, 6.7988],
    [10.8525, -50.5783],
    [35.2334, 62.7935],
    [-14.4138, 21.3513],
    [23.5861, -42.15],
    [60.2495, 56.9436],
    [51.314, 11.081],
    [6.5301, 27.564],
    [-80.0466, -13.2083],
    [25.1047, 3.8607],
    [-23.0469, -77.1143],
    [4.6562, -65.7628],
    [66.2923, -77.1864],
    [32.7215, 36.562],
    [-44.6081, -70.723],
    [-70.0735, -46.4516],
    [-49.6671, -73.5461],
    [-18.946, -21.5658],
    [-63.5234, 12.0806],
    [-76.1374, 74.1938],
    [-31.511, 20.8203],
    [-46.3268, 70.3202],
    [-56.1141, 29.9158],
    [19.0284, -63.6719],
    [-8.5384, -35.9339],
    [1.2704, -66.7171],
    [48.0328, -18.3913],
    [13.2909, -32.2714],
    [-61.8066, -32.9963],
    [-48.1489, 33.7494],
    [13.7318, -5.856],
    [-21.0692, 34.0731],
    [-49.388, 79.4656],
    [78.0982, 72.0668],
    [6.029, 29.4015],
    [69.4175, -36.1988],
    [71.4956, -66.9616],
    [-51.3535, 76.4464],
    [-10.3175, -58.6166],
    [35.7459, 47.5128],
    [-6.8627, -65.1158],
    [65.5593, 70.7172],
    [69.9737, -30.4783],
    [-12.1512, -47.7705],
    [74.7791, 43.5351],
    [-43.4632, 70.7794],
    [-44.1905, -20.9956],
    [32.2542, -30.1603],
    [-23.4923, 32.9254],
    [-15.1897, 59.5064],
    [-25.4256, 5.4851],
    [-43.3584, 40.6118],
    [-61.0688, 63.8194],
    [79.1438, 74.9217],
    [-56.976, -20.1915],
    [24.9704, 73.5111],
    [54.3601, -65.7766],
    [-51.9487, 62.8258],
    [73.5913, 54.6251],
    [6.7206, 5.0154],
    [48.9716, -74.1781],
    [-70.248, 55.0316],
    [46.5927, 21.4342],
    [67.1981, 24.1166],
    [-16.5202, -41.3947],
    [74.423, -27.7805],
    [47.5025, 25.9249],
    [1.4729, -18.5865],
    [-24.7066, -15.3529],
    [-38.0013, -48.3441],
    [14.6434, 53.3931],
    [46.5113, -15.0751],
    [49.5094, 71.8307],
    [60.6495, -38.1611],
    [-19.4213, -59.2627],
    [15.2414, 23.2557],
    [-23.6245, -70.994],
    [-76.4925, 51.0081],
    [-39.0638, 30.3947],
    [-28.2429, -38.0551],
    [63.2683, 63.9211],
    [-14.8732, -58.071],
    [22.455, -29.7811],
    [2.7409, 70.658],
    [-13.1151, -44.8793],
    [-26.8361, 28.3618],
    [-55.396, -11.3814],
    [-22.0252, -8.0025],
    [-20.6666, 42.4986],
    [-29.2842, -75.86],
    [-51.5521, 50.2306],
    [-15.3987, 56.8482],
    [23.3325, -43.1967],
    [-22.3181, -3.4107],
    [-23.3662, -79.1698],
    [-51.3798, 41.5877],
    [15.4472, -7.9603],
    [-25.5427, -31.2067],
    [-16.7433, -35.3942],
    [-60.5988, -62.6074],
    [60.7456, 58.4723],
    [33.2402, 9.9387],
    [22.4627, 34.1869],
    [-1.122, -23.8905],
    [45.795, -10.6166],
    [-53.009, 24.1031],
    [-16.4523, 13.9625],
    [30.2298, 70.5807],
    [76.601, 51.8802],
    [27.8844, -26.2153],
    [43.7724, -40.221],
    [-3.9767, 67.2239],
    [74.4325, -14.1815],
    [-36.6838, -14.6605],
    [57.255, 22.9358],
    [30.665, -15.4027],
    [74.8147, -43.4504],
    [-37.6258, -54.3218],
    [15.3933, 73.2157],
    [72.3854, 24.3527],
    [-59.1593, 11.1267],
    [-35.052, 40.1212],
    [-77.6038, 25.9065],
    [-46.9654, 15.5316],
    [-12.8896, 5.0505],
    [-44.2685, 43.1905],
    [-79.5831, -43.4513],
    [62.9271, -9.5875],
    [-36.0362, 4.7587],
    [-64.5103, 28.9821],
    [-56.0509, 68.6349],
    [-72.3247, -30.9772],
    [69.0007, -13.2187],
    [66.8921, 70.2469],
    [61.9208, -4.3051],
    [54.5013, 54.3873],
    [-60.6673, 72.855],
    [55.7671, -24.9924],
    [-47.3062, 52.0721],
    [-79.1928, 64.7774],
    [-53.8492, 5.9114],
    [-23.1973, -23.221],
    [9.2289, 39.7111],
    [50.9348, 73.9522],
    [23.1309, -42.1611],
    [60.1248, 57.0662],
    [-48.7548, 47.9665],
    [45.4463, 75.8831],
    [51.3709, -43.3917],
    [62.6039, 54.6824],
    [-32.8584, -69.0246],
    [-71.2686, 65.2864],
    [28.2081, -43.3594],
    [18.262, -38.1346],
    [-2.989, 53.9542],
    [-74.9798, -25.4118],
    [41.0513, -48.6844],
    [56.0688, -73.3322],
    [-64.3499, -9.9212],
    [-32.576, 68.681],
    [-21.1177, 17.6107],
    [-56.5749, 27.0656],
    [45.011, 76.9644],
    [-49.5479, 52.1961],
    [75.8612, 53.723],
    [-5.3611, -20.6004],
    [78.3678, -12.5318],
    [7.5245, -56.8413],
    [13.9706, 50.1417],
    [65.4831, -2.6617],
    [-20.6791, 34.454],
    [12.7941, -33.8515],
    [-31.1476, -65.0203],
    [-26.8588, -1.0752],
    [-51.3548, 12.3819],
    [78.3568, -26.7554],
    [-45.4906, 62.552],
    [-30.5413, 19.6779],
    [-69.6199, 1.3715],
    [-29.3152, -25.2388],
    [30.2687, -71.1099],
    [48.8515, -49.2568],
    [5.8887, -12.4177],
    [69.8818, 17.7857],
    [-65.7437, -15.2219],
    [-36.8243, -33.0573],
    [18.7862, -55.384],
    [75.1931, -32.8959],
    [-17.4547, -44.8882],
    [1.4182, 18.104],
    [52.8502, 57.8505],
    [8.7222, 76.256],
    [70.8399, 71.6016],
    [70.9103, -72.3734],
    [-43.5366, -22.9916],
    [-33.8974, 79.7043],
    [-75.6188, 40.1331],
    [-71.2379, 50.3266],
    [-59.3422, 74.0386],
    [47.2174, -2.9702],
    [15.2522, 34.3159],
    [31.9631, 19.4868],
    [48.9971, -63.9172],
    [61.8256, -27.5712],
    [-22.4218, 59.0841],
    [-49.256, 30.7103],
    [79.3389, 4.4291],
    [-4.401, 18.3716],
    [-42.0461, 56.351],
    [67.3409, -25.6525],
    [24.3454, -31.3718],
    [60.3011, -71.1713],
    [-6.075, -70.613],
    [-77.7144, 11.2198],
    [-36.0745, 39.5289],
    [15.2154, -38.232],
    [62.8367, -20.5799],
    [-41.3593, -68.3707],
    [68.5587, -47.8904],
    [-16.4306, -58.4126],
    [-39.6646, 19.8833],
    [77.4089, -34.9793],
    [27.9315, 76.2023],
    [78.0432, 50.5812],
    [-47.7878, 10.7626],
    [3.2215, 48.0211],
    [-32.354, -62.2988],
    [79.5333, 29.2145],
    [61.2979, 64.8887],
    [10.1733, -23.9316],
    [32.829, -42.225],
    [66.2601, 55.9743],
    [3.6218, -18.4999],
    [-1.6634, 19.666],
    [30.3906, 31.2167],
    [-18.7288, -38.5499],
    [-34.4738, -72.7318],
    [19.4044, 74.5894],
    [-68.2672, -51.5636],
    [-5.4927, -35.4409],
    [55.3348, -69.6771],
    [-29.0033, 13.8904],
    [-61.2494, 44.4721],
    [28.8527, -41.2931],
    [-7.158, -34.296],
    [-21.1184, 28.8514],
    [-8.9286, 34.2008],
    [-21.5043, 76.8436],
    [-60.1577, -29.4674],
    [21.3497, -19.967],
    [-24.8077, -47.1098],
    [34.4794, -30.4259],
    [-13.3768, 47.113],
    [68.0765, 58.2363],
    [-0.8324, -28.8706],
    [78.8659, -8.1923],
    [20.3704, 70.2381],
    [-38.2629, -7.4953],
    [59.1051, 45.681],
    [-21.4628, -1.0728],
    [52.7214, -75.4151],
    [-3.589, -20.3522],
    [25.8552, -76.354],
    [33.7185, -9.7113],
    [23.9872, -7.8052],
    [-59.2785, -73.8687],
    [42.0442, 57.3742],
    [-57.7122, -75.7779],
    [-57.1612, -31.0013],
    [-37.8366, 67.0004],
    [-51.0954, 11.9309],
    [-9.0408, 3.5285],
    [-5.0003, 39.7902],
    [-2.1674, 77.7079],
    [-72.9438, -66.11],
    [28.129, -22.1439],
    [-17.2941, 47.1148],
    [13.132, 64.8101],
    [-22.2237, -48.1238],
    [-29.1777, 22.1945],
    [25.6818, 65.2362],
    [-63.1351, -79.1189],
    [62.0013, 77.3117],
    [11.4759, -77.1836],
    [22.1142, 56.6367],
    [-0.4983, -6.6853],
    [14.1959, 35.718],
    [-34.5866, 53.3289],
    [-38.0327, 14.3287],
    [-74.3344, 24.0416],
    [-6.1823, 69.1403],
    [-53.4447, -10.2561],
    [68.0338, -61.7635],
    [-68.8789, -67.5806],
    [12.998, 2.7717],
    [13.429, -72.3904],
    [44.3453, -51.2537],
    [-62.2163, -8.1953],
    [52.0171, -3.7602],
    [-11.7927, 45.5532],
    [18.2849, -79.4572],
    [29.337, 29.4276],
    [54.1485, 45.562],
    [-32.9517, 66.9402],
    [-66.3065, -15.3703],
    [-43.8791, -9.9337],
    [36.6701, 59.1429],
    [-80.3403, 59.8425],
    [17.2253, -37.1465],
    [8.0217, -41.8418],
    [11.6395, -25.2259],
    [-67.2132, -67.3184],
    [-41.0495, -36.1402],
    [-72.4531, 61.1951],
    [-67.4743, -60.7871],
    [28.925, 6.3642],
    [78.0231, -76.7192],
    [63.464, 20.6335],
    [5.6995, 55.5792],
    [-77.2285, -7.5021],
    [-61.2641, -4.3551],
    [-52.9833, -72.4305],
    [-14.7951, -80.3624],
    [-68.9658, -12.3608],
    [-58.1727, -51.6818],
    [75.6221, -36.6723],
    [38.1982, -65.5309],
    [-14.7252, 45.6836],
    [-12.1083, -50.456],
    [52.003, -75.3046],
    [60.0721, 19.3301],
    [60.0556, 50.9511],
    [0.9195, 70.2392],
    [-18.5375, -45.3426],
    [37.5965, -57.0645],
    [-31.6233, -61.2345],
    [-69.4625, 55.5265],
    [-27.7549, -17.0101],
    [43.4961, 16.0881],
    [-18.9581, 62.3096],
    [-42.7708, 51.2113],
    [-68.8396, 55.2585],
    [-75.0278, 32.0322],
    [-23.4098, 24.7619],
    [-0.0618, -34.8939],
    [-20.6251, 18.4093],
    [-62.242, -69.911],
    [68.6455, -75.9693],
    [38.5075, 57.2215],
    [-20.9683, -52.9417],
    [-12.5518, 40.4873],
  ];

  componentDidMount() {
    const map = new mapboxgl.Map({
      container: this.mapContainer,
      style: "mapbox://styles/mapbox/light-v10",
      center: [this.state.lng, this.state.lat],
      zoom: this.state.zoom,
    });

    this.globalMap = map;

    // map.on("load", () => {
    //   map.addSource("source_circle_500", {
    //     type: "geojson",
    //     data: {
    //       type: "FeatureCollection",
    //       features: [
    //         {
    //           type: "Feature",
    //           geometry: {
    //             type: "Point",
    //             coordinates: [-80.4623, 43.2464],
    //           },
    //         },
    //       ],
    //     },
    //   });
    // });

    map.on("move", () => {
      this.setState({
        lng: map.getCenter().lng.toFixed(4),
        lat: map.getCenter().lat.toFixed(4),
        zoom: map.getZoom().toFixed(1),
      });
    });

    map.addControl(
      new MapboxGeocoder({
        accessToken: mapboxgl.accessToken,
        mapboxgl: mapboxgl,
        marker: false,
        zoom: 11,
      })
    );
  }

  allPoints = this.points.map((point) => ({
    type: "Feature",
    geometry: {
      type: "Point",
      coordinates: { ...point },
    },
  }));

  handleRender = () => {
    let map = this.globalMap;

    if (this.globalMap.getLayer("circle500") == undefined) {
      map.addLayer({
        id: "circle500",
        type: "circle",
        source: {
          type: "geojson",
          data: {
            type: "FeatureCollection",
            features: this.allPoints,
          },
        },
        // source: "source_circle_500",
        layout: {
          visibility: "visible",
        },
        paint: {
          "circle-radius": {
            stops: [
              [0, 1],
              [1, 1],
              [3, 2],
              [5, 5],
              [10, 20],
              [15, 35],
            ],
            base: 1.3,
          },
          "circle-color": "rgba(10,255,10,0.5)",
        },
      });
    }
  };

  //https://docs.mapbox.com/mapbox-gl-js/api/map/#map#addsource

  handleDelete = () => {
    if (this.globalMap.getLayer("circle500") != undefined) {
      this.globalMap.removeLayer("circle500");
    }
    if (this.globalMap.getSource("circle500") != undefined) {
      this.globalMap.removeSource("circle500");
    }
  };

  handleClick() {}

  render() {
    const menustyle = {
      width: "26%",
      padding: "20px",
    };

    return (
      <React.Fragment>
        <div>
          <div className="sidebarStyle" style={menustyle}>
            <h5 className="center low">Elapsed Minutes</h5>
            <ElapsedHours />
            <h5 className="center low">Flood Intensity</h5>
            <FloodIntensity />
            <span className="center-place">
              <Button onRender={() => this.handleRender()} />
              <Button onRender={() => this.handleDelete()} />
            </span>
          </div>
          <div className="infobarStyle">
            Longitude: {this.state.lng} | Latitude: {this.state.lat} | Zoom:{" "}
            {this.state.zoom}
          </div>
          <div
            ref={(el) => (this.mapContainer = el)}
            className="mapContainer"
          />
        </div>
      </React.Fragment>
    );
  }
}

export default App;
